<html lang="fr" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation complète du système de chronométrage et positionnement UWB DW3000">
      
      
        <meta name="author" content="Hugo">
      
      
      
      
        <link rel="next" href="global/">
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.23">
    
    
      
        <title>Système de Positionnement UWB pour Voitures RC</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#systeme-de-positionnement-uwb-pour-voitures-rc" class="md-skip">
          Aller au contenu
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="En-tête">
    <a href="." title="Système de Positionnement UWB pour Voitures RC" class="md-header__button md-logo" aria-label="Système de Positionnement UWB pour Voitures RC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Système de Positionnement UWB pour Voitures RC
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Accueil
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="blue" aria-label="Mode sombre" type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Mode sombre" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="blue" aria-label="Mode clair" type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Mode clair" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"></path></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Rechercher" placeholder="Rechercher" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
      </label>
      <nav class="md-search__options" aria-label="Recherche">
        
        <button type="reset" class="md-search__icon md-icon" title="Effacer" aria-label="Effacer" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initialisation de la recherche
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Onglets" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="." class="md-tabs__link">
        
  
  
    
  
  Accueil

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="global/" class="md-tabs__link">
        
  
  
    
  
  Vue Globale

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Système de Positionnement UWB pour Voitures RC" class="md-nav__button md-logo" aria-label="Système de Positionnement UWB pour Voitures RC" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"></path></svg>

    </a>
    Système de Positionnement UWB pour Voitures RC
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Accueil
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-systeme" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Système
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tag-uwb-module-mobile" class="md-nav__link">
    <span class="md-ellipsis">
      Tag UWB (Module Mobile)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anchor-uwb-point-fixe" class="md-nav__link">
    <span class="md-ellipsis">
      Anchor UWB (Point Fixe)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#station-de-base" class="md-nav__link">
    <span class="md-ellipsis">
      Station de Base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flux-de-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Flux de Communication
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="global/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Vue Globale
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table des matières">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table des matières
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#architecture-systeme" class="md-nav__link">
    <span class="md-ellipsis">
      Architecture Système
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tag-uwb-module-mobile" class="md-nav__link">
    <span class="md-ellipsis">
      Tag UWB (Module Mobile)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#anchor-uwb-point-fixe" class="md-nav__link">
    <span class="md-ellipsis">
      Anchor UWB (Point Fixe)
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#station-de-base" class="md-nav__link">
    <span class="md-ellipsis">
      Station de Base
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flux-de-communication" class="md-nav__link">
    <span class="md-ellipsis">
      Flux de Communication
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="systeme-de-positionnement-uwb-pour-voitures-rc">Système de Positionnement UWB pour Voitures RC</h1>
<p>Ce projet implémente un système complet de positionnement en temps réel et de chronométrage pour voitures RC, basé sur la technologie <strong>Ultra-Wideband (UWB)</strong> avec les modules <strong>DW3000</strong>.</p>
<h2 id="architecture-systeme">Architecture Système</h2>
<p>Le système se compose de trois composants principaux qui travaillent en synergie :</p>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="341px" preserveAspectRatio="xMidYMid" style="width: auto; height: auto;" version="1.1" viewBox="0 0 939 341" width="939px" zoomAndPan="magnify"><defs></defs><g><!--cluster Tags--><g class="cluster" data-entity="Tags" data-source-line="7" data-uid="ent0002" id="cluster_Tags"><rect fill="#ADD8E6" height="200" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="221" x="114.5" y="12"></rect><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="189.9502" x="130.0249" y="34.9951">Tags UWB (Voitures RC)</text></g><!--cluster Anchors--><g class="cluster" data-entity="Anchors" data-source-line="17" data-uid="ent0004" id="cluster_Anchors"><rect fill="#90EE90" height="200" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="251" x="375.5" y="12"></rect><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="219.7139" x="391.1431" y="34.9951">Anchors UWB (Points Fixes)</text></g><!--cluster Base--><g class="cluster" data-entity="Base" data-source-line="27" data-uid="ent0006" id="cluster_Base"><rect fill="#FFB6C1" height="200" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="267" x="666.5" y="12"></rect><text fill="#000000" font-family="Verdana" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="124.5098" x="737.7451" y="34.9951">Station de Base</text></g><!--entity compTag--><g class="entity" data-entity="compTag" data-source-line="8" data-uid="ent0003" id="entity_compTag"><rect fill="#FFFFFF" height="117.4844" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="151.6094" x="158.5" y="71"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115.6094" x="176.5" y="101.9951">Module DW3000</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="43.9893" x="176.5" y="118.292">ESP32</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="82.6465" x="176.5" y="134.5889">Écran OLED</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="90.5762" x="176.5" y="150.8857">Récepteur IR</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="29.6748" x="176.5" y="167.1826">WiFi</text></g><!--entity compAnchor--><g class="entity" data-entity="compAnchor" data-source-line="18" data-uid="ent0005" id="entity_compAnchor"><rect fill="#FFFFFF" height="117.4844" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="151.6094" x="434.5" y="71"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="115.6094" x="452.5" y="101.9951">Module DW3000</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="43.9893" x="452.5" y="118.292">ESP32</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="82.6465" x="452.5" y="134.5889">Écran OLED</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="83.624" x="452.5" y="150.8857">Émetteur IR</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="29.6748" x="452.5" y="167.1826">WiFi</text></g><!--entity compBase--><g class="entity" data-entity="compBase" data-source-line="28" data-uid="ent0007" id="entity_compBase"><rect fill="#FFFFFF" height="117.4844" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1;" width="198.9346" x="710" y="71"></rect><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="99.0391" x="728" y="101.9951">Interface User</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="88.9424" x="728" y="118.292">Stockage SD</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="123.4092" x="728" y="134.5889">Gestionnaire WiFi</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="162.9346" x="728" y="150.8857">Moteur Positionnement</text><text fill="#000000" font-family="Verdana" font-size="14" lengthAdjust="spacing" textLength="112.0479" x="728" y="167.1826">Interface Config</text></g><g class="entity" data-entity="GMN8" data-source-line="46" data-uid="ent0009" id="entity_GMN8"><path d="M11,248 L11,334.5313 L235.9351,334.5313 L235.9351,258 L225.9351,248 L11,248" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"></path><path d="M225.9351,248 L225.9351,258 L235.9351,258 L225.9351,248" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="187.9351" x="25" y="273.0669">• Mesure des distances UWB</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="156.8379" x="25" y="288.1997">• Détection IR passages</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="171.6914" x="25" y="303.3325">• Transmission temps réel</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="107.4849" x="25" y="318.4653">• Affichage local</text></g><g class="entity" data-entity="GMN11" data-source-line="53" data-uid="ent0012" id="entity_GMN11"><path d="M291,248 L291,334.5313 L491.9282,334.5313 L491.9282,258 L481.9282,248 L291,248" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"></path><path d="M481.9282,248 L481.9282,258 L491.9282,258 L481.9282,248" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="159.7134" x="305" y="273.0669">• Point de référence fixe</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="163.9282" x="305" y="288.1997">• Auto-calibration réseau</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="137.3252" x="305" y="303.3325">• Balise IR (secteurs)</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="139.2485" x="305" y="318.4653">• Maillage coordonné</text></g><g class="entity" data-entity="GMN14" data-source-line="60" data-uid="ent0015" id="entity_GMN14"><path d="M570.5,248 L570.5,334.5313 L778.8613,334.5313 L778.8613,258 L768.8613,248 L570.5,248" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"></path><path d="M768.8613,248 L768.8613,258 L778.8613,258 L768.8613,248" fill="#FFFFFF" style="stroke:#000000;stroke-width:1;"></path><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="113.8516" x="584.5" y="273.0669">• Calcul positions</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="144.0029" x="584.5" y="288.1997">• Interface temps réel</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="131.5806" x="584.5" y="303.3325">• Stockage données</text><text fill="#000000" font-family="Verdana" font-size="13" lengthAdjust="spacing" textLength="171.3613" x="584.5" y="318.4653">• Télécommande système</text></g><!--link Tags to GMN8--><g class="link" data-entity-1="Tags" data-entity-2="GMN8" data-source-line="46" data-uid="lnk10" id="link_Tags_GMN8"><path d="M123.5,212.2734 C123.5,212.6708 123.5,213.0682 123.5,213.4655 C123.5,214.26 123.5,215.0542 123.5,215.8477 C123.5,217.4347 123.5,219.0189 123.5,220.598 C123.5,223.7561 123.5,226.8934 123.5,229.9903 C123.5,236.1841 123.5,242.2163 123.5,247.93" fill="none" id="Tags-GMN8" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"></path></g><!--link Anchors to GMN11--><g class="link" data-entity-1="Anchors" data-entity-2="GMN11" data-source-line="53" data-uid="lnk13" id="link_Anchors_GMN11"><path d="M391.5,212.2734 C391.5,212.6708 391.5,213.0682 391.5,213.4655 C391.5,214.26 391.5,215.0542 391.5,215.8477 C391.5,217.4347 391.5,219.0189 391.5,220.598 C391.5,223.7561 391.5,226.8934 391.5,229.9903 C391.5,236.1841 391.5,242.2163 391.5,247.93" fill="none" id="Anchors-GMN11" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"></path></g><!--link Base to GMN14--><g class="link" data-entity-1="Base" data-entity-2="GMN14" data-source-line="60" data-uid="lnk16" id="link_Base_GMN14"><path d="M674.5,212.2734 C674.5,212.6708 674.5,213.0682 674.5,213.4655 C674.5,214.26 674.5,215.0542 674.5,215.8477 C674.5,217.4347 674.5,219.0189 674.5,220.598 C674.5,223.7561 674.5,226.8934 674.5,229.9903 C674.5,236.1841 674.5,242.2163 674.5,247.93" fill="none" id="Base-GMN14" style="stroke:#000000;stroke-width:1;stroke-dasharray:7,7;"></path></g><!--SRC=[hPJDQXin4CVl-nJJzD3aO0ZDfPXIYEqa119gxAG-D3t8sjcri5PQD5feA8LUyneznVU-mRv9dwGZUJ-SE8KUkYVjp4Zp-sjczCgli40ejL0ceRKofN2Y06cBqXeqVkxlDO93wON9DUw4Q6NGtvS8rlcLtN6K8asLoU7TZcqfv3ftjZBfs6hhm3jXY5sS8KcwP71m8tA2syK83ZzPvIk71BFnqG48WkXwVQNobH_f2k5R0lprUyEAO-1pj8VlsgOLmqyM9yV7nvtrR3uzUTlzrG-IKU3ZrTcaiytgZSJIO-NWSjPP5-fSnPyloVSdpAT6hgnhiATM6KzmhhuYRRbRznRzmY6Q5zctSVy1ltueqFyp_TmBhwo1564a22DoM3IyKsNMB-B6c1xsqdXqcP08juIkCy-zbMkH8ynxlWkaaD48vR3dsYgEs5DBAaPmPt9_xASOMvEfl9UJl84PwgY3e7JAI5KAZSJss3Nl1n-wCWn3dUxCDH9t5wIAkB5b7ygHKTamajsP2MFK6sv3ZqL9u7YjEROzxNduM6YrT964ew9hy2GvetjN_-99sd77pCD6LjLiJmpV1YojzxO0cyKWblpxnqzeuHch4n1aDUv9lV4yiA6gbpCUHoAkGBlt9anUeOY2UrVKrdsQPKgkGiMqbK8dQ58887iuZQHcMspxq4DyLbPlUAwvJ1aFGNjivUr0zfSJuWX5rRX7xE6xODf3Od9k0ZfgjGgbTU2HrheqLkFlKE56ctrS2LbfA9jUQa7x9jhNtZLhsXIzlR9we_b9i4KX34kaU_BrOu4x62yzTFBvG_S7]--></g></svg><h2 id="tag-uwb-module-mobile">Tag UWB (Module Mobile)</h2>
<p>Le Tag est le dispositif embarqué dans chaque voiture RC. Il assure le positionnement précis grâce aux mesures UWB avec les anchors, gère le chronométrage via la détection IR des passages, transmet les données en temps réel par WiFi et affiche les informations localement sur un écran OLED. Ce module compact intègre plusieurs composants matériels : un module DW3000 pour l'UWB, un ESP32 comme processeur principal avec WiFi intégré, un écran OLED SSD1306 pour l'affichage, un récepteur IR pour le chronométrage, le tout alimenté par une batterie embarquée.</p>
<h2 id="anchor-uwb-point-fixe">Anchor UWB (Point Fixe)</h2>
<p>Les Anchors sont les points de référence fixes du système. Ils assurent plusieurs fonctionnalités essentielles : la mesure précise des distances avec les tags mobiles via UWB, l'auto-calibration automatique du réseau d'anchors, une communication WiFi bidirectionnelle avec la station de base, l'affichage de leur état sur un écran OLED intégré, et l'émission de signaux IR pour la détection des passages et secteurs. Au niveau matériel, les anchors utilisent les mêmes composants que les tags, à la différence qu'ils sont équipés d'un émetteur IR au lieu d'un récepteur.</p>
<h2 id="station-de-base">Station de Base</h2>
<p>La station de base est le cerveau du système. Elle assure plusieurs fonctionnalités essentielles: le calcul précis des positions par trilatération, le traitement en temps réel des données provenant des tags et anchors, l'enregistrement complet des sessions sur carte SD, la télécommande centralisée de tous les composants du système, ainsi qu'une interface intuitive pour le contrôle et la visualisation.</p>
<h2 id="flux-de-communication">Flux de Communication</h2>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="813px" preserveAspectRatio="xMidYMid" style="width: auto; height: auto;" version="1.1" viewBox="0 0 616 813" width="616px" zoomAndPan="magnify"><defs></defs><g><g><title>Tag</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="35.0088" y="381.7578"></rect></g><g><title>Tag</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="35.0088" y="639.6875"></rect></g><g><title>Anchors</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="247.8223" y="208.0938"></rect></g><g><title>Station Base</title><rect fill="#FFFFFF" height="35.1328" style="stroke:#181818;stroke-width:1;" width="10" x="419.5703" y="279.3594"></rect></g><g><title>Station Base</title><rect fill="#FFFFFF" height="119.3984" style="stroke:#181818;stroke-width:1;" width="10" x="419.5703" y="453.0234"></rect></g><g><title>Station Base</title><rect fill="#FFFFFF" height="35.1328" style="stroke:#181818;stroke-width:1;" width="10" x="419.5703" y="710.9531"></rect></g><rect fill="none" height="217.9297" style="stroke:#000000;stroke-width:1.5;" width="600.5713" x="10" y="111.5625"></rect><rect fill="none" height="243.9297" style="stroke:#000000;stroke-width:1.5;" width="543.8486" x="10" y="343.4922"></rect><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="564.4658" x="10" y="601.4219"></rect><g><title>Tag</title><rect fill="#000000" fill-opacity="0.00000" height="741.7891" width="8" x="36.0088" y="36.2969"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="40" x2="40" y1="36.2969" y2="778.0859"></line></g><g><title>Anchors</title><rect fill="#000000" fill-opacity="0.00000" height="741.7891" width="8" x="248.8223" y="36.2969"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="252.5044" x2="252.5044" y1="36.2969" y2="778.0859"></line></g><g><title>Station Base</title><rect fill="#000000" fill-opacity="0.00000" height="741.7891" width="8" x="420.5703" y="36.2969"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="424.4136" x2="424.4136" y1="36.2969" y2="778.0859"></line></g><g class="participant participant-head" data-participant="T"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40.0176" x="20" y="5"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.0176" x="27" y="24.9951">Tag</text></g><g class="participant participant-tail" data-participant="T"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="40.0176" x="20" y="777.0859"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26.0176" x="27" y="797.0811">Tag</text></g><g class="participant participant-head" data-participant="A"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.6357" x="217.5044" y="5"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6357" x="224.5044" y="24.9951">Anchors</text></g><g class="participant participant-tail" data-participant="A"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.6357" x="217.5044" y="777.0859"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6357" x="224.5044" y="797.0811">Anchors</text></g><g class="participant participant-head" data-participant="B"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.3135" x="373.4136" y="5"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.3135" x="380.4136" y="24.9951">Station Base</text></g><g class="participant participant-tail" data-participant="B"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="102.3135" x="373.4136" y="777.0859"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88.3135" x="380.4136" y="797.0811">Station Base</text></g><g><title>Tag</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="35.0088" y="381.7578"></rect></g><g><title>Tag</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="35.0088" y="639.6875"></rect></g><g><title>Anchors</title><rect fill="#FFFFFF" height="71.2656" style="stroke:#181818;stroke-width:1;" width="10" x="247.8223" y="208.0938"></rect></g><g><title>Station Base</title><rect fill="#FFFFFF" height="35.1328" style="stroke:#181818;stroke-width:1;" width="10" x="419.5703" y="279.3594"></rect></g><g><title>Station Base</title><rect fill="#FFFFFF" height="119.3984" style="stroke:#181818;stroke-width:1;" width="10" x="419.5703" y="453.0234"></rect></g><g><title>Station Base</title><rect fill="#FFFFFF" height="35.1328" style="stroke:#181818;stroke-width:1;" width="10" x="419.5703" y="710.9531"></rect></g><g class="message" data-participant-1="T" data-participant-2="B"><polygon fill="#181818" points="412.5703,63.4297,422.5703,67.4297,412.5703,71.4297,416.5703,67.4297" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="40.0088" x2="418.5703" y1="67.4297" y2="67.4297"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.0054" x="47.0088" y="62.3638">Connexion</text></g><g class="message" data-participant-1="A" data-participant-2="B"><polygon fill="#181818" points="412.5703,92.5625,422.5703,96.5625,412.5703,100.5625,416.5703,96.5625" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="252.8223" x2="418.5703" y1="96.5625" y2="96.5625"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.0054" x="259.8223" y="91.4966">Connexion</text></g><path d="M10,111.5625 L225.0283,111.5625 L225.0283,118.6953 L215.0283,128.6953 L10,128.6953 L10,111.5625" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="217.9297" style="stroke:#000000;stroke-width:1.5;" width="600.5713" x="10" y="111.5625"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170.0283" x="25" y="124.6294">Loop Contrôle Système</text><g class="message" data-participant-1="B" data-participant-2="T"><polygon fill="#181818" points="51.0088,145.8281,41.0088,149.8281,51.0088,153.8281,47.0088,149.8281" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="45.0088" x2="423.5703" y1="149.8281" y2="149.8281"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1626" x="57.0088" y="144.7622">Configuration</text></g><g class="message" data-participant-1="B" data-participant-2="A"><polygon fill="#181818" points="263.8223,174.9609,253.8223,178.9609,263.8223,182.9609,259.8223,178.9609" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="257.8223" x2="423.5703" y1="178.9609" y2="178.9609"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.1626" x="269.8223" y="173.895">Configuration</text></g><g class="message" data-participant-1="B" data-participant-2="A"><polygon fill="#181818" points="268.8223,204.0938,258.8223,208.0938,268.8223,212.0938,264.8223,208.0938" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="262.8223" x2="423.5703" y1="208.0938" y2="208.0938"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.748" x="274.8223" y="203.0278">Commande calibration</text></g><g class="message" data-participant-1="A" data-participant-2="A"><line style="stroke:#181818;stroke-width:1;" x1="257.8223" x2="299.8223" y1="237.2266" y2="237.2266"></line><line style="stroke:#181818;stroke-width:1;" x1="299.8223" x2="299.8223" y1="237.2266" y2="250.2266"></line><line style="stroke:#181818;stroke-width:1;" x1="258.8223" x2="299.8223" y1="250.2266" y2="250.2266"></line><polygon fill="#181818" points="268.8223,246.2266,258.8223,250.2266,268.8223,254.2266,264.8223,250.2266" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.6763" x="264.8223" y="232.1606">Auto-calibration</text></g><g class="message" data-participant-1="A" data-participant-2="B"><polygon fill="#181818" points="407.5703,275.3594,417.5703,279.3594,407.5703,283.3594,411.5703,279.3594" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="252.8223" x2="413.5703" y1="279.3594" y2="279.3594"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.6523" x="259.8223" y="274.2935">Vecteur calibration</text></g><g class="message" data-participant-1="B" data-participant-2="B"><line style="stroke:#181818;stroke-width:1;" x1="429.5703" x2="471.5703" y1="313.4922" y2="313.4922"></line><line style="stroke:#181818;stroke-width:1;" x1="471.5703" x2="471.5703" y1="313.4922" y2="326.4922"></line><line style="stroke:#181818;stroke-width:1;" x1="424.5703" x2="471.5703" y1="326.4922" y2="326.4922"></line><polygon fill="#181818" points="434.5703,322.4922,424.5703,326.4922,434.5703,330.4922,430.5703,326.4922" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.001" x="436.5703" y="308.4263">Calcul position Anchors</text></g><path d="M10,343.4922 L129.7817,343.4922 L129.7817,350.625 L119.7817,360.625 L10,360.625 L10,343.4922" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="243.9297" style="stroke:#000000;stroke-width:1.5;" width="543.8486" x="10" y="343.4922"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74.7817" x="25" y="356.5591">Loop UWB</text><g class="message" data-participant-1="A" data-participant-2="T"><line style="stroke:#181818;stroke-width:1;" x1="46.0088" x2="56.0088" y1="381.7578" y2="377.7578"></line><line style="stroke:#181818;stroke-width:1;" x1="46.0088" x2="56.0088" y1="381.7578" y2="385.7578"></line><line style="stroke:#181818;stroke-width:1;" x1="45.0088" x2="251.8223" y1="381.7578" y2="381.7578"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.1548" x="62.0088" y="376.6919">AT+RANGE (range data)</text></g><g class="message" data-participant-1="T" data-participant-2="T"><line style="stroke:#181818;stroke-width:1;" x1="45.0088" x2="87.0088" y1="410.8906" y2="410.8906"></line><line style="stroke:#181818;stroke-width:1;" x1="87.0088" x2="87.0088" y1="410.8906" y2="423.8906"></line><line style="stroke:#181818;stroke-width:1;" x1="46.0088" x2="87.0088" y1="423.8906" y2="423.8906"></line><polygon fill="#181818" points="56.0088,419.8906,46.0088,423.8906,56.0088,427.8906,52.0088,423.8906" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.8135" x="52.0088" y="405.8247">Data extraction &amp; buffering</text></g><g class="message" data-participant-1="T" data-participant-2="B"><polygon fill="#181818" points="407.5703,449.0234,417.5703,453.0234,407.5703,457.0234,411.5703,453.0234" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="40.0088" x2="413.5703" y1="453.0234" y2="453.0234"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.1284" x="47.0088" y="447.9575">Envoi données (WiFi)</text></g><g class="message" data-participant-1="B" data-participant-2="B"><line style="stroke:#181818;stroke-width:1;" x1="429.5703" x2="471.5703" y1="482.1563" y2="482.1563"></line><line style="stroke:#181818;stroke-width:1;" x1="471.5703" x2="471.5703" y1="482.1563" y2="495.1563"></line><line style="stroke:#181818;stroke-width:1;" x1="430.5703" x2="471.5703" y1="495.1563" y2="495.1563"></line><polygon fill="#181818" points="440.5703,491.1563,430.5703,495.1563,440.5703,499.1563,436.5703,495.1563" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.2783" x="436.5703" y="477.0903">Calcul position</text></g><g class="message" data-participant-1="B" data-participant-2="B"><line style="stroke:#181818;stroke-width:1;" x1="429.5703" x2="471.5703" y1="524.2891" y2="524.2891"></line><line style="stroke:#181818;stroke-width:1;" x1="471.5703" x2="471.5703" y1="524.2891" y2="537.2891"></line><line style="stroke:#181818;stroke-width:1;" x1="430.5703" x2="471.5703" y1="537.2891" y2="537.2891"></line><polygon fill="#181818" points="440.5703,533.2891,430.5703,537.2891,440.5703,541.2891,436.5703,537.2891" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.3594" x="436.5703" y="519.2231">Filtrage</text></g><g class="message" data-participant-1="B" data-participant-2="B"><line style="stroke:#181818;stroke-width:1;" x1="429.5703" x2="471.5703" y1="571.4219" y2="571.4219"></line><line style="stroke:#181818;stroke-width:1;" x1="471.5703" x2="471.5703" y1="571.4219" y2="584.4219"></line><line style="stroke:#181818;stroke-width:1;" x1="424.5703" x2="471.5703" y1="584.4219" y2="584.4219"></line><polygon fill="#181818" points="434.5703,580.4219,424.5703,584.4219,434.5703,588.4219,430.5703,584.4219" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.5894" x="436.5703" y="566.356">Stockage SD</text></g><path d="M10,601.4219 L109.8247,601.4219 L109.8247,608.5547 L99.8247,618.5547 L10,618.5547 L10,601.4219" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="159.6641" style="stroke:#000000;stroke-width:1.5;" width="564.4658" x="10" y="601.4219"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="54.8247" x="25" y="614.4888">Loop IR</text><g class="message" data-participant-1="A" data-participant-2="T"><line style="stroke:#181818;stroke-width:1;" x1="46.0088" x2="56.0088" y1="639.6875" y2="635.6875"></line><line style="stroke:#181818;stroke-width:1;" x1="46.0088" x2="56.0088" y1="639.6875" y2="643.6875"></line><line style="stroke:#181818;stroke-width:1;" x1="45.0088" x2="251.8223" y1="639.6875" y2="639.6875"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.1885" x="62.0088" y="634.6216">Signal IR (passage)</text></g><g class="message" data-participant-1="T" data-participant-2="T"><line style="stroke:#181818;stroke-width:1;" x1="45.0088" x2="87.0088" y1="668.8203" y2="668.8203"></line><line style="stroke:#181818;stroke-width:1;" x1="87.0088" x2="87.0088" y1="668.8203" y2="681.8203"></line><line style="stroke:#181818;stroke-width:1;" x1="46.0088" x2="87.0088" y1="681.8203" y2="681.8203"></line><polygon fill="#181818" points="56.0088,677.8203,46.0088,681.8203,56.0088,685.8203,52.0088,681.8203" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.3076" x="52.0088" y="663.7544">Décodage secteur</text></g><g class="message" data-participant-1="T" data-participant-2="B"><polygon fill="#181818" points="407.5703,706.9531,417.5703,710.9531,407.5703,714.9531,411.5703,710.9531" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="40.0088" x2="413.5703" y1="710.9531" y2="710.9531"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.3574" x="47.0088" y="705.8872">Temps secteur</text></g><g class="message" data-participant-1="B" data-participant-2="B"><line style="stroke:#181818;stroke-width:1;" x1="429.5703" x2="471.5703" y1="745.0859" y2="745.0859"></line><line style="stroke:#181818;stroke-width:1;" x1="471.5703" x2="471.5703" y1="745.0859" y2="758.0859"></line><line style="stroke:#181818;stroke-width:1;" x1="424.5703" x2="471.5703" y1="758.0859" y2="758.0859"></line><polygon fill="#181818" points="434.5703,754.0859,424.5703,758.0859,434.5703,762.0859,430.5703,758.0859" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115.8955" x="436.5703" y="740.02">Mise à jour temps</text></g><!--SRC=[bLDBJiCm4Dtd5ACkK2lK2x10ScYBa815O-Xwwao3QM97jbELsx2aUswGYs67qjO55SXkvitdlJTEZSP98MjK3deSYnwW1PxKXsccn9CsjeDO36KEdTGAKhJKuMcIS1XUGde1LrefMdiqOTyoIM5qKyEjrdN8EjE-bmJPYtNjMqK9-2yDJRnhMiYYCTsYFS9E8rM5AYSGMChvGG4A9rVeoEi88TlMiyRfuN7j5-j74euQysrMJaVJTc6w9nDKOocQ4cfjPUVLrixZ6Mb2Ae-CUPYbEoAT5OoVJzdzzHZw1bL1aAF3GRoQTo7VUZVo1K1hPmBkLv_1l5aio4XLxEiynR5QQGcvFq-x8GlzcPp8mJ51_W-H4JQHfMTGK9JCd1PBduHizBiJDzFOY4mM2akVXdwDrlenfsreDqBdOPdzl6KadbDLsmZvg-WxQGdQLtZM_dcuCEPdANOfbVzji88vYcNGfNAXI-sR_26jXqYv3m00]--></g></svg><h1 id="calibration-des-anchors">Calibration des Anchors</h1>
<p>La <strong>calibration des anchors</strong> vise à déterminer les positions relatives des différentes ancres (points fixes) du système, à partir des <strong>distances mutuelles mesurées</strong> par les modules UWB.<br>
Cette étape permet de construire un <strong>repère cohérent</strong>, dans lequel les positions ultérieures des <em>tags</em> pourront être exprimées.</p>
<h2 id="digramme-detat">Digramme d'état</h2>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="STATE" height="811px" preserveAspectRatio="xMidYMid" style="width: auto; height: auto;" version="1.1" viewBox="0 0 860 811" width="860px" zoomAndPan="magnify"><title>Diagramme d'état détaillé — Calibrator (version étendue)</title><defs></defs><g><g class="title" data-source-line="1"><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="455.417" x="195.3098" y="22.9951">Diagramme d'état détaillé — Calibrator (version étendue)</text></g><path d="M65.5,123.2969 L524.6597,123.2969 A12.5,12.5 0 0 1 537.1597,135.7969 L537.1597,149.5938 L53,149.5938 L53,135.7969 A12.5,12.5 0 0 1 65.5,123.2969" fill="#F1F1F1"></path><rect fill="none" height="229.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="484.1597" x="53" y="123.2969"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="53" x2="537.1597" y1="149.5938" y2="149.5938"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.8242" x="239.6677" y="141.292">ANCHOR_MODE</text><ellipse cx="160" cy="170.5938" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g id="ANCHOR_MODE.COLLECTING_TAG_DATA"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="190.4814" x="65" y="217.5938"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="65" x2="255.4814" y1="243.8906" y2="243.8906"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170.4814" x="75" y="235.5889">COLLECTING_TAG_DATA</text></g><ellipse cx="160" cy="331.5938" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="160" cy="331.5938" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><!--link *start*ANCHOR_MODE to COLLECTING_TAG_DATA--><g class="link" data-entity-1=".start.ANCHOR_MODE" data-entity-2="COLLECTING_TAG_DATA" data-source-line="13" data-uid="lnk8" id="link_.start.ANCHOR_MODE_COLLECTING_TAG_DATA"><path d="M160,180.7438 C160,190.0138 160,198.7338 160,211.3738" fill="none" id="*start*ANCHOR_MODE-to-COLLECTING_TAG_DATA" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="160,217.3738,164,208.3738,160,212.3738,156,208.3738,160,217.3738" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link COLLECTING_TAG_DATA to COLLECTING_TAG_DATA--><g class="link" data-entity-1="COLLECTING_TAG_DATA" data-entity-2="COLLECTING_TAG_DATA" data-source-line="14" data-uid="lnk9" id="link_COLLECTING_TAG_DATA_COLLECTING_TAG_DATA"><path d="M255.22,235.9237 C266.01,237.1737 273,239.3938 273,242.5938 C273,245.7938 271.9701,247.3233 261.1801,248.5733" fill="none" id="COLLECTING_TAG_DATA-to-COLLECTING_TAG_DATA" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="255.22,249.2638,264.6205,252.2015,260.1868,248.6884,263.6999,244.2546,255.22,249.2638" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.1597" x="279" y="247.1606">onRangingData() / update_tag_data()</text></g><!--link COLLECTING_TAG_DATA to *end*ANCHOR_MODE--><g class="link" data-entity-1="COLLECTING_TAG_DATA" data-entity-2=".end.ANCHOR_MODE" data-source-line="15" data-uid="lnk11" id="link_COLLECTING_TAG_DATA_.end.ANCHOR_MODE"><path d="M160,267.8238 C160,285.1238 160,301.5138 160,314.3438" fill="none" id="COLLECTING_TAG_DATA-to-*end*ANCHOR_MODE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="160,320.3438,164,311.3438,160,315.3438,156,311.3438,160,320.3438" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.1538" x="161" y="298.6606">startCalibration()</text></g><path d="M19.5,412.2969 L570.2783,412.2969 A12.5,12.5 0 0 1 582.7783,424.7969 L582.7783,438.5938 L7,438.5938 L7,424.7969 A12.5,12.5 0 0 1 19.5,412.2969" fill="#F1F1F1"></path><rect fill="none" height="393.2969" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="575.7783" x="7" y="412.2969"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="7" x2="582.7783" y1="438.5938" y2="438.5938"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.7021" x="255.5381" y="430.292">TAG_MODE</text><g class="entity" data-entity="c" data-uid="ent0004" id="entity_c"><polygon fill="#F1F1F1" points="134,609.5938,146,621.5938,134,633.5938,122,621.5938,134,609.5938" style="stroke:#181818;stroke-width:0.5;"></polygon></g><ellipse cx="134" cy="459.5938" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g id="TAG_MODE.COLLECTING"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="109.0176" x="79.5" y="522.5938"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="79.5" x2="188.5176" y1="548.8906" y2="548.8906"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.0176" x="89.5" y="540.5889">COLLECTING</text></g><g id="TAG_MODE.SENDING_DATA"><rect fill="#F1F1F1" height="50" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="129.9219" x="19" y="686.5938"></rect><line style="stroke:#181818;stroke-width:0.5;" x1="19" x2="148.9219" y1="712.8906" y2="712.8906"></line><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.9219" x="29" y="704.5889">SENDING_DATA</text></g><ellipse cx="149" cy="784.5938" fill="none" rx="11" ry="11" style="stroke:#222222;stroke-width:1;"></ellipse><ellipse cx="149" cy="784.5938" fill="#222222" rx="6" ry="6" style="stroke:#222222;stroke-width:1;"></ellipse><!--link *start*TAG_MODE to COLLECTING--><g class="link" data-entity-1=".start.TAG_MODE" data-entity-2="COLLECTING" data-source-line="27" data-uid="lnk14" id="link_.start.TAG_MODE_COLLECTING"><path d="M134,469.7938 C134,482.2738 134,499.0138 134,516.5238" fill="none" id="*start*TAG_MODE-to-COLLECTING" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="134,522.5238,138,513.5238,134,517.5238,130,513.5238,134,522.5238" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111.687" x="135" y="500.6606">onRangingStart()</text></g><!--link COLLECTING to COLLECTING--><g class="link" data-entity-1="COLLECTING" data-entity-2="COLLECTING" data-source-line="28" data-uid="lnk15" id="link_COLLECTING_COLLECTING"><path d="M188.7,540.0938 C199.12,540.9938 206.5,543.4938 206.5,547.5938 C206.5,551.6938 205.0977,553.6774 194.6777,554.5774" fill="none" id="COLLECTING-to-COLLECTING" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="188.7,555.0938,198.0108,558.3044,193.6815,554.6635,197.3224,550.3341,188.7,555.0938" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="355.2783" x="212.5" y="552.1606">onMeasurementReceived() / update_calibration_data()</text></g><!--link COLLECTING to c--><g class="link" data-entity-1="COLLECTING" data-entity-2="c" data-source-line="29" data-uid="lnk16" id="link_COLLECTING_c"><path d="M134,572.9738 C134,585.3738 134,593.8338 134,603.5438" fill="none" id="COLLECTING-to-c" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="134,609.5438,138,600.5438,134,604.5438,130,600.5438,134,609.5438" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link c to SENDING_DATA--><g class="link" data-entity-1="c" data-entity-2="SENDING_DATA" data-source-line="30" data-uid="lnk18" id="link_c_SENDING_DATA"><path d="M124.06,623.7838 C109.3,626.1538 82.03,632.9338 70,651.5938 C63.33,661.9438 63.45,669.5936 67.97,680.8836" fill="none" id="c-to-SENDING_DATA" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="70.2,686.4538,70.5684,676.6118,68.3416,681.8119,63.1415,679.5852,70.2,686.4538" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.5815" x="71" y="664.6606">enoughSamples()</text></g><!--link c to *end*TAG_MODE--><g class="link" data-entity-1="c" data-entity-2=".end.TAG_MODE" data-source-line="31" data-uid="lnk20" id="link_c_.end.TAG_MODE"><path d="M143.36,624.7238 C155.66,628.0838 176.79,635.9038 186,651.5938 C210.83,693.8738 175.3311,748.7771 159.1111,770.4871" fill="none" id="c-to-*end*TAG_MODE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="155.52,775.2938,164.1111,770.4779,158.5126,771.2882,157.7023,765.6897,155.52,775.2938" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.6606" x="194" y="716.1606">timeout</text></g><!--link SENDING_DATA to *end*TAG_MODE--><g class="link" data-entity-1="SENDING_DATA" data-entity-2=".end.TAG_MODE" data-source-line="32" data-uid="lnk21" id="link_SENDING_DATA_.end.TAG_MODE"><path d="M106.01,736.6338 C118.53,750.3138 129.3284,762.1083 137.8884,771.4583" fill="none" id="SENDING_DATA-to-*end*TAG_MODE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="141.94,775.8838,138.813,766.5445,138.5637,772.1959,132.9123,771.9466,141.94,775.8838" style="stroke:#181818;stroke-width:1;"></polygon></g><ellipse cx="295" cy="53.2969" fill="#222222" rx="10" ry="10" style="stroke:#222222;stroke-width:1;"></ellipse><g class="entity" data-entity="GMN2" data-source-line="8" data-uid="ent0003" id="entity_GMN2"><path d="M572.5,217.7969 L572.5,233.7969 L537.06,237.7969 L572.5,241.7969 L572.5,258.0625 A0,0 0 0 0 572.5,258.0625 L853.0366,258.0625 A0,0 0 0 0 853.0366,258.0625 L853.0366,227.7969 L843.0366,217.7969 L572.5,217.7969 A0,0 0 0 0 572.5,217.7969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M843.0366,217.7969 L843.0366,227.7969 L853.0366,227.7969 L843.0366,217.7969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259.5366" x="578.5" y="234.8638">Mode anchor normal : répond aux polls,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.3911" x="578.5" y="249.9966">reçoit commandes de calibration.</text></g><g class="entity" data-entity="GMN5" data-source-line="19" data-uid="ent0006" id="entity_GMN5"><path d="M618,581.2969 L618,604.7969 L583.06,608.7969 L618,612.7969 L618,636.6953 A0,0 0 0 0 618,636.6953 L846.1113,636.6953 A0,0 0 0 0 846.1113,636.6953 L846.1113,591.2969 L836.1113,581.2969 L618,581.2969 A0,0 0 0 0 618,581.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><path d="M836.1113,581.2969 L836.1113,591.2969 L846.1113,591.2969 L836.1113,581.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"></path><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202.979" x="624" y="598.3638">Le device est configuré en TAG</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.7886" x="624" y="613.4966">pour mesurer les distances</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.7993" x="624" y="628.6294">avec les autres anchors.</text></g><!--link *start* to ANCHOR_MODE--><g class="link" data-entity-1=".start." data-entity-2="ANCHOR_MODE" data-source-line="3" data-uid="lnk3" id="link_.start._ANCHOR_MODE"><path d="M295,63.5969 C295,75.6569 295,92.0969 295,116.9269" fill="none" id="*start*-to-ANCHOR_MODE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="295,122.9269,299,113.9269,295,117.9269,291,113.9269,295,122.9269" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link ANCHOR_MODE to TAG_MODE--><g class="link" data-entity-1="ANCHOR_MODE" data-entity-2="TAG_MODE" data-source-line="4" data-uid="lnk4" id="link_ANCHOR_MODE_TAG_MODE"><path d="M283.12,352.5169 C282.63,371.5769 282.3735,385.8269 282.2935,406.2469" fill="none" id="ANCHOR_MODE-to-TAG_MODE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="282.27,412.2469,286.3052,403.2626,282.2896,407.2469,278.3053,403.2313,282.27,412.2469" style="stroke:#181818;stroke-width:1;"></polygon></g><!--link TAG_MODE to ANCHOR_MODE--><g class="link" data-entity-1="TAG_MODE" data-entity-2="ANCHOR_MODE" data-source-line="5" data-uid="lnk5" id="link_TAG_MODE_ANCHOR_MODE"><path d="M308.48,412.2469 C308.4,391.8269 308.2636,377.5746 307.7436,358.5146" fill="none" id="TAG_MODE-to-ANCHOR_MODE" style="stroke:#181818;stroke-width:1;"></path><polygon fill="#181818" points="307.58,352.5169,303.8269,361.6226,307.7164,357.515,311.824,361.4044,307.58,352.5169" style="stroke:#181818;stroke-width:1;"></polygon></g><!--SRC=[VPDTQXin4CVVTOfvQrAQvZq4WzarQS4VOFkj53EH9ckHrMZHXmcKGW_HEnIVmpVfIJhQEEacSVkaOJuq__cDb6ng2MgBJK3d2CoxmpvX0bCEsxQ7FVp-yHCgRErjmEG3dEqeHEiP98FOP3fNwilxht1nCOBnlFgqM6vcYtgY1dOVMuzl7WDFnfiAnJuH1Dji4_Yx5w6PDmJ8UYi2s0U7BLn1EEmxpmOmFq3dspP-K84ElxnDeBrpo8OYI9q-YXVH7vL8Xj97gIXpqh0BV5C0JwDKY-bqKgq_psysHN0zNeybUiBxhsmHw7c9t5XkQanuTWwNa3iZJJS9cutfVV-vioYv0b4PKlLt0Ydv_fhKCzgfB91sLXDGB13upZPPC05nIGBL-Hp0KSo10hG5ZvK6hCLIk2FT-p2dK8uUTtoBx7c1XTUZIyFrjMHBvz58dQGunB4gCxsQ_LJwZB0eTSHfIPhiZioGuc2lfsZsDsfnwTvQJUPrONpS3R7FpNQ5hfEH-qeze9wi8v-JU5-K7HDa0_7USeVoP-0MzNqJV6QZVIlFCmNaA24H_GS0]--></g></svg><h2 id="diagramme-de-sequence">Diagramme de séquence</h2>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="605px" preserveAspectRatio="xMidYMid" style="width: auto; height: auto;" version="1.1" viewBox="0 0 936 605" width="936px" zoomAndPan="magnify"><title>Séquence — Démarrage et déroulé d'une calibration</title><defs></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="413.0068" x="263.2852" y="27.9951">Séquence — Démarrage et déroulé d'une calibration</text><g><title>MessageDecoder</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="281.8677" y="104.7266"></rect></g><g><title>Calibrator</title><rect fill="#FFFFFF" height="411.5938" style="stroke:#181818;stroke-width:1;" width="10" x="413.3569" y="133.8594"></rect></g><g><title>UWBAnchor</title><rect fill="#FFFFFF" height="35.1328" style="stroke:#181818;stroke-width:1;" width="10" x="660.9111" y="205.125"></rect></g><rect fill="none" height="117.5313" style="stroke:#000000;stroke-width:1.5;" width="563.8032" x="366.7739" y="262.2578"></rect><rect fill="none" height="88.3984" style="stroke:#000000;stroke-width:1.5;" width="655.9111" x="10" y="393.7891"></rect><g><title>WifiCommunication</title><rect fill="#000000" fill-opacity="0.00000" height="496.8594" width="8" x="91.4482" y="73.5938"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="95" x2="95" y1="73.5938" y2="570.4531"></line></g><g><title>MessageDecoder</title><rect fill="#000000" fill-opacity="0.00000" height="496.8594" width="8" x="282.8677" y="73.5938"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="286.7319" x2="286.7319" y1="73.5938" y2="570.4531"></line></g><g><title>Calibrator</title><rect fill="#000000" fill-opacity="0.00000" height="496.8594" width="8" x="414.3569" y="73.5938"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="417.7739" x2="417.7739" y1="73.5938" y2="570.4531"></line></g><g><title>UWBAnchor</title><rect fill="#000000" fill-opacity="0.00000" height="496.8594" width="8" x="661.9111" y="73.5938"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="665.3931" x2="665.3931" y1="73.5938" y2="570.4531"></line></g><g><title>DisplayManager</title><rect fill="#000000" fill-opacity="0.00000" height="496.8594" width="8" x="853.0918" y="73.5938"></rect><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="856.6064" x2="856.6064" y1="73.5938" y2="570.4531"></line></g><g class="participant participant-head" data-participant="Wifi"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.8965" x="20" y="42.2969"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.8965" x="27" y="62.292">WifiCommunication</text></g><g class="participant participant-tail" data-participant="Wifi"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.8965" x="20" y="569.4531"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.8965" x="27" y="589.4482">WifiCommunication</text></g><g class="participant participant-head" data-participant="MessageDecoder"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.2715" x="219.7319" y="42.2969"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.2715" x="226.7319" y="62.292">MessageDecoder</text></g><g class="participant participant-tail" data-participant="MessageDecoder"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="134.2715" x="219.7319" y="569.4531"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.2715" x="226.7319" y="589.4482">MessageDecoder</text></g><g class="participant participant-head" data-participant="Calibrator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.166" x="376.7739" y="42.2969"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.166" x="383.7739" y="62.292">Calibrator</text></g><g class="participant participant-tail" data-participant="Calibrator"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.166" x="376.7739" y="569.4531"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.166" x="383.7739" y="589.4482">Calibrator</text></g><g class="participant participant-head" data-participant="UWBAnchor"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.0361" x="617.3931" y="42.2969"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.0361" x="624.3931" y="62.292">UWBAnchor</text></g><g class="participant participant-tail" data-participant="UWBAnchor"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.0361" x="617.3931" y="569.4531"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.0361" x="624.3931" y="589.4482">UWBAnchor</text></g><g class="participant participant-head" data-participant="Display"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.9707" x="793.6064" y="42.2969"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9707" x="800.6064" y="62.292">DisplayManager</text></g><g class="participant participant-tail" data-participant="Display"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="126.9707" x="793.6064" y="569.4531"></rect><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.9707" x="800.6064" y="589.4482">DisplayManager</text></g><g><title>MessageDecoder</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="281.8677" y="104.7266"></rect></g><g><title>Calibrator</title><rect fill="#FFFFFF" height="411.5938" style="stroke:#181818;stroke-width:1;" width="10" x="413.3569" y="133.8594"></rect></g><g><title>UWBAnchor</title><rect fill="#FFFFFF" height="35.1328" style="stroke:#181818;stroke-width:1;" width="10" x="660.9111" y="205.125"></rect></g><g class="message" data-participant-1="Wifi" data-participant-2="MessageDecoder"><polygon fill="#181818" points="269.8677,100.7266,279.8677,104.7266,269.8677,108.7266,273.8677,104.7266" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="95.4482" x2="275.8677" y1="104.7266" y2="104.7266"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167.4194" x="102.4482" y="99.6606">StartCalibration(deviceId)</text></g><g class="message" data-participant-1="MessageDecoder" data-participant-2="Calibrator"><polygon fill="#181818" points="401.3569,129.8594,411.3569,133.8594,401.3569,137.8594,405.3569,133.8594" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="286.8677" x2="407.3569" y1="133.8594" y2="133.8594"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.4893" x="293.8677" y="128.7935">StartCalibration</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="Calibrator"><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="465.3569" y1="162.9922" y2="162.9922"></line><line style="stroke:#181818;stroke-width:1;" x1="465.3569" x2="465.3569" y1="162.9922" y2="175.9922"></line><line style="stroke:#181818;stroke-width:1;" x1="424.3569" x2="465.3569" y1="175.9922" y2="175.9922"></line><polygon fill="#181818" points="434.3569,171.9922,424.3569,175.9922,434.3569,179.9922,430.3569,175.9922" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145.1265" x="430.3569" y="157.9263">resetCalibrationData()</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="UWBAnchor"><polygon fill="#181818" points="648.9111,201.125,658.9111,205.125,648.9111,209.125,652.9111,205.125" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="654.9111" y1="205.125" y2="205.125"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.7236" x="430.3569" y="200.0591">switch to TAG mode</text></g><g class="message" data-participant-1="UWBAnchor" data-participant-2="UWBAnchor"><line style="stroke:#181818;stroke-width:1;" x1="670.9111" x2="712.9111" y1="239.2578" y2="239.2578"></line><line style="stroke:#181818;stroke-width:1;" x1="712.9111" x2="712.9111" y1="239.2578" y2="252.2578"></line><line style="stroke:#181818;stroke-width:1;" x1="665.9111" x2="712.9111" y1="252.2578" y2="252.2578"></line><polygon fill="#181818" points="675.9111,248.2578,665.9111,252.2578,675.9111,256.2578,671.9111,252.2578" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.1807" x="677.9111" y="234.1919">apply TAG configuration</text></g><path d="M366.7739,262.2578 L443.3979,262.2578 L443.3979,269.3906 L433.3979,279.3906 L366.7739,279.3906 L366.7739,262.2578" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="117.5313" style="stroke:#000000;stroke-width:1.5;" width="563.8032" x="366.7739" y="262.2578"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="381.7739" y="275.3247">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="176.8164" x="458.3979" y="274.4683">[until calibration is finished]</text><g class="message" data-participant-1="UWBAnchor" data-participant-2="Calibrator"><polygon fill="#181818" points="434.3569,296.5234,424.3569,300.5234,434.3569,304.5234,430.3569,300.5234" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="428.3569" x2="664.9111" y1="300.5234" y2="300.5234"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.9697" x="440.3569" y="295.4575">onRangingData()</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="Calibrator"><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="465.3569" y1="329.6563" y2="329.6563"></line><line style="stroke:#181818;stroke-width:1;" x1="465.3569" x2="465.3569" y1="329.6563" y2="342.6563"></line><line style="stroke:#181818;stroke-width:1;" x1="424.3569" x2="465.3569" y1="342.6563" y2="342.6563"></line><polygon fill="#181818" points="434.3569,338.6563,424.3569,342.6563,434.3569,346.6563,430.3569,342.6563" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.7202" x="430.3569" y="324.5903">updateCalibrationData()</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="Display"><polygon fill="#181818" points="845.0918,367.7891,855.0918,371.7891,845.0918,375.7891,849.0918,371.7891" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="851.0918" y1="371.7891" y2="371.7891"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0972" x="430.3569" y="366.7231">update display</text></g><path d="M10,393.7891 L74.4429,393.7891 L74.4429,400.9219 L64.4429,410.9219 L10,410.9219 L10,393.7891" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"></path><rect fill="none" height="88.3984" style="stroke:#000000;stroke-width:1.5;" width="655.9111" x="10" y="393.7891"></rect><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="406.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="108.8989" x="89.4429" y="405.9995">[enoughSamples]</text><g class="message" data-participant-1="Calibrator" data-participant-2="Calibrator"><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="465.3569" y1="432.0547" y2="432.0547"></line><line style="stroke:#181818;stroke-width:1;" x1="465.3569" x2="465.3569" y1="432.0547" y2="445.0547"></line><line style="stroke:#181818;stroke-width:1;" x1="424.3569" x2="465.3569" y1="445.0547" y2="445.0547"></line><polygon fill="#181818" points="434.3569,441.0547,424.3569,445.0547,434.3569,449.0547,430.3569,445.0547" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.5542" x="430.3569" y="426.9888">makeJSONFromCalibrationData()</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="Wifi"><polygon fill="#181818" points="106.4482,470.1875,96.4482,474.1875,106.4482,478.1875,102.4482,474.1875" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="100.4482" x2="412.3569" y1="474.1875" y2="474.1875"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.1777" x="112.4482" y="469.1216">sendCalibrationData()</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="Display"><polygon fill="#181818" points="845.0918,506.3203,855.0918,510.3203,845.0918,514.3203,849.0918,510.3203" style="stroke:#181818;stroke-width:1;"></polygon><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="851.0918" y1="510.3203" y2="510.3203"></line><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.0972" x="430.3569" y="505.2544">update display</text></g><g class="message" data-participant-1="Calibrator" data-participant-2="Calibrator"><line style="stroke:#181818;stroke-width:1;" x1="423.3569" x2="465.3569" y1="544.4531" y2="544.4531"></line><line style="stroke:#181818;stroke-width:1;" x1="465.3569" x2="465.3569" y1="544.4531" y2="557.4531"></line><line style="stroke:#181818;stroke-width:1;" x1="418.3569" x2="465.3569" y1="557.4531" y2="557.4531"></line><polygon fill="#181818" points="428.3569,553.4531,418.3569,557.4531,428.3569,561.4531,424.3569,557.4531" style="stroke:#181818;stroke-width:1;"></polygon><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.3647" x="430.3569" y="539.3872">endCalibration()</text></g><!--SRC=[ZPD1JWCn34NtEON51hhW0bqWbLOWa0eI1R5s4tTgDUCCIGR4ZaDmYPwZD-4aXA5q9bDHs2MUx_TjZnCvMeBPPlrKasY2ZxTtc6pM9NgF1G55C9krTxNThC4SrqAWqVBSOsGdga8VMNE54k6H5mmOuEZhC7PbMGlhHdQKwQOKGa9FI3j3lid8GxbylBLptzBsciiU7iz7efTRrUwMYoOSAeklZMHxdg8avwHJgcdWzAnVu11cCJ76RTidXfvPqvKPADIHdp5IBqdr68dQwMEVg0pzHjh5Mu3giFfaJu6wv0b6F1ceNaexhI645uvw2T71_UWIocJQUkvqgitefMDLsTScLJjPS57lTzHIbBBELL1BPDjT9E002nOEIpAvLTQSapkKWgNOTdLW3dLbalN-8FAKduNuqOFv3YWIauf56u74rSLoXcLbAHnoB755rxFRcmllohzycrLBeqys-z8lxt-MUQ2S79smdH_IMQMmOabF14kOeruLwQMBqSucHFGe8NqYYPy0]--></g></svg><h3 id="la-matrice-de-distances">La matrice de distances</h3>
<p>Une fois les mesures de distances inter-anchors collectées, elles sont organisées dans une <strong>matrice de distance</strong> pour le traitement ultérieur :</p>
<div class="arithmatex">\[
D =
\begin{bmatrix}
0 &amp; d_{12} &amp; d_{13} &amp; \cdots &amp; d_{1n} \\
d_{21} &amp; 0 &amp; d_{23} &amp; \cdots &amp; d_{2n} \\
d_{31} &amp; d_{32} &amp; 0 &amp; \cdots &amp; d_{3n} \\
\vdots &amp; \vdots &amp; \vdots &amp; \ddots &amp; \vdots \\
d_{n1} &amp; d_{n2} &amp; d_{n3} &amp; \cdots &amp; 0
\end{bmatrix}
\]</div>
<p>où <span class="arithmatex">\(d_{ij}\)</span> désigne la distance mesurée entre les anchors <span class="arithmatex">\(i\)</span> et <span class="arithmatex">\(j\)</span>.<br>
En théorie, <span class="arithmatex">\(D\)</span> est symétrique (<span class="arithmatex">\(d_{ij} = d_{ji}\)</span>), mais des écarts peuvent apparaître à cause du bruit de mesure ou d’erreurs de synchronisation.</p>
<h2 id="reconstruction-des-positions">Reconstruction des positions</h2>
<p>L’objectif est de retrouver les coordonnées <span class="arithmatex">\(\mathbf{p}_i = (x_i, y_i)\)</span> des <span class="arithmatex">\(n\)</span> anchors telles que :</p>
<div class="arithmatex">\[
\|\mathbf{p}_i - \mathbf{p}_j\| \approx d_{ij}, \quad \forall (i, j)
\]</div>
<p>C’est un <strong>problème de multidimensional scaling</strong> (MDS) ou d’<strong>ajustement géométrique par moindres carrés non linéaires</strong>.</p>
<h2 id="mise-en-place-du-repere">Mise en place du repère</h2>
<p>Pour lever l’ambiguïté liée aux rotations et translations, deux anchors sont fixées comme références :</p>
<ul>
<li><span class="arithmatex">\(A_0\)</span> est placée à l’origine : <span class="arithmatex">\(\mathbf{p}_0 = (0, 0)\)</span>  </li>
<li><span class="arithmatex">\(A_1\)</span> est placée sur l’axe des x : <span class="arithmatex">\(\mathbf{p}_1 = (d_{01}, 0)\)</span></li>
</ul>
<p>Les autres anchors <span class="arithmatex">\(A_k\)</span> sont initialisées par <strong>triangulation</strong> à partir de ces deux références :</p>
<div class="arithmatex">\[
\begin{cases}
x_k = \dfrac{d_{0k}^2 - d_{1k}^2 + d_{01}^2}{2d_{01}} \\
y_k = \sqrt{d_{0k}^2 - x_k^2}
\end{cases}
\]</div>
<p>Cette étape fournit une <strong>estimation initiale</strong> cohérente des positions.</p>
<h2 id="optimisation-par-descente-de-gradient">Optimisation par descente de gradient</h2>
<p>Les positions initiales sont ensuite <strong>optimisées numériquement</strong> afin de minimiser l’erreur entre les distances mesurées et les distances géométriques reconstruites :</p>
<div class="arithmatex">\[
E = \sum_{i&lt;j} \left( \|\mathbf{p}_i - \mathbf{p}_j\| - d_{ij} \right)^2
\]</div>
<p>Une <strong>descente de gradient</strong> met à jour les positions à chaque itération selon :</p>
<div class="arithmatex">\[
\mathbf{p}_i \leftarrow \mathbf{p}_i - \eta \, \nabla_{\mathbf{p}_i} E
\]</div>
<p>où <span class="arithmatex">\(\eta\)</span> est le taux d’apprentissage, et le gradient s’écrit :</p>
<div class="arithmatex">\[
\nabla_{\mathbf{p}_i} E = 2 \sum_{j \ne i} \left( \|\mathbf{p}_i - \mathbf{p}_j\| - d_{ij} \right) \frac{\mathbf{p}_i - \mathbf{p}_j}{\|\mathbf{p}_i - \mathbf{p}_j\|}
\]</div>
<p>Pendant cette optimisation :
- L’anchor <span class="arithmatex">\(A_0\)</span> reste fixe (origine du repère),
- L’anchor <span class="arithmatex">\(A_1\)</span> reste sur l’axe des x (contrainte de rotation).</p>
<p>L’algorithme converge lorsque l’erreur moyenne devient stable ou inférieure à un seuil défini.</p>
<h2 id="normalisation-et-echelle">Normalisation et échelle</h2>
<p>Une fois les positions obtenues, elles peuvent être <strong>normalisées</strong> afin de tenir dans un cadre cohérent (utile pour l’affichage ou le traitement ultérieur).<br>
On calcule le <strong>rectangle englobant</strong> de toutes les positions, puis on met à l’échelle :</p>
<div class="arithmatex">\[
\mathbf{p}_i^{(norm)} = \dfrac{\mathbf{p}_i - \mathbf{p}_{min}}{\max(\Delta x, \Delta y)}
\]</div>
<p>où <span class="arithmatex">\(\Delta x\)</span> et <span class="arithmatex">\(\Delta y\)</span> représentent les dimensions maximales du nuage de points.</p>
<h2 id="evaluation-de-lerreur-relative">Évaluation de l’erreur relative</h2>
<p>L’erreur finale est exprimée en <strong>erreur quadratique moyenne relative</strong> :</p>
<div class="arithmatex">\[
\text{Erreur} = \frac{\sqrt{\dfrac{1}{N}\sum_{i&lt;j} (\|\mathbf{p}_i - \mathbf{p}_j\| - d_{ij})^2}}{\bar{d}} \times 100
\]</div>
<p>avec <span class="arithmatex">\(\bar{d}\)</span> la distance moyenne entre anchors.<br>
Cette mesure reflète la cohérence géométrique du réseau d’anchors après calibration.</p>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  Retour en haut de la page
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": ".", "features": ["navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.copy", "content.tabs.link"], "search": "assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copi\u00e9 dans le presse-papier", "clipboard.copy": "Copier dans le presse-papier", "search.result.more.one": "1 de plus sur cette page", "search.result.more.other": "# de plus sur cette page", "search.result.none": "Aucun document trouv\u00e9", "search.result.one": "1 document trouv\u00e9", "search.result.other": "# documents trouv\u00e9s", "search.result.placeholder": "Taper pour d\u00e9marrer la recherche", "search.result.term.missing": "Non trouv\u00e9", "select.version": "S\u00e9lectionner la version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>